<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>curium-animated-pages demo</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../animations/curium-tab-page-animation-manager.html">
    <link rel="import" href="../animations/curium-scene-animation-manager.html">
    <link rel="import" href="../animations/curium-slideshow-animation-manager.html">
    <link rel="import" href="../curium-animated-pages.html">

    <link rel="import" href="../../polymer/lib/elements/custom-style.html">
    <link rel="import" href="../../polymer/lib/elements/dom-bind.html">


    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
      </style>
    </custom-style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Tab Page curium-animated-pages demo</h3>
      <demo-snippet>
        <template>
          <custom-style>
            <style>
              #pages-0 {
                width: 300px;
                height: 300px;
              }
              #pages-0 #page-0 {
                background-color: blue;
              }
              #pages-0 #page-1 {
                background-color: red;
              }
            </style>
          </custom-style>
          <dom-bind id="bind-0">
            <template>
              <input id="input-0" type="text" value="{{selectedPageID::change}}"></input>
              <curium-tab-page-animation-manager id="manager-0" duration="330"></curium-tab-page-animation-manager>
              <curium-animated-pages id="pages-0" selected="[[selectedPageID]]" animation-manager="#manager-0">
                <div id="page-0">Page 0</div>
                <div id="page-1">Page 1</div>
              </curium-animated-pages>
            </template>
            <script>
              document.querySelector("#bind-0").addEventListener('dom-change', () => {
                // The pages should imported later than the manager,
                // otherwise the pages may obtain an not-yet-upgraded manager
                // which does not have the required methods.
                document.querySelector("#bind-0").selectedPageID = 0;
              });
            </script>
          </dom-bind>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Scene curium-animated-pages demo</h3>
      <demo-snippet>
        <template>
          <custom-style>
            <style>
              #pages-1 {
                width: 300px;
                height: 300px;
              }
              #pages-1 #page-0 {
                background-color: blue;
              }
              #pages-1 #page-1 {
                background-color: red;
              }
            </style>
          </custom-style>
          <dom-bind id="bind-1">
            <template>
              <input id="input-1" type="text" value="{{selectedPageID::change}}"></input>
              <curium-scene-animation-manager id="manager-1" duration="330"></curium-scene-animation-manager>
              <curium-animated-pages id="pages-1" selected="[[selectedPageID]]" animation-manager="#manager-1">
                <div id="page-0" level="0">Page 0</div>
                <div id="page-1" level="1">Page 1</div>
              </curium-animated-pages>
            </template>
            <script>
              document.querySelector("#bind-1").addEventListener('dom-change', () => {
                // The pages should imported later than the manager,
                // otherwise the pages may obtain an not-yet-upgraded manager
                // which does not have the required methods.
                document.querySelector("#bind-1").selectedPageID = 0;
              });
            </script>
          </dom-bind>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Slideshow curium-animated-pages demo</h3>
      <demo-snippet>
        <template>
          <custom-style>
            <style>
              #pages-2 {
                width: 300px;
                height: 300px;
              }
              #pages-2 #page-0 {
                background-color: blue;
              }
              #pages-2 #page-1 {
                background-color: red;
              }
            </style>
          </custom-style>
          <dom-bind id="bind-2">
            <template>
              <input id="input-2" type="text" value="{{selectedPageID::change}}"></input>
              <curium-slideshow-animation-manager id="manager-2"></curium-slideshow-animation-manager>
              <curium-animated-pages id="pages-2" selected="[[selectedPageID]]" animation-manager="#manager-2">
                <div id="page-0" level="0">Page 0</div>
                <div id="page-1" level="1">Page 1</div>
              </curium-animated-pages>
            </template>
            <script>
              document.querySelector("#bind-2").addEventListener('dom-change', () => {
                // The pages should imported later than the manager,
                // otherwise the pages may obtain an not-yet-upgraded manager
                // which does not have the required methods.
                let bind = document.querySelector("#bind-2");
                bind.selectedPageID = 0;
                setInterval(() => {
                  bind.selectedPageID = (bind.selectedPageID + 1) % 2;
                }, 2000);
              });
            </script>
          </dom-bind>
        </template>
      </demo-snippet>
    </div>
  </body>
</html>
